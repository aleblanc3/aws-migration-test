<p-button label="Options" icon="pi pi-bars" (click)="visible=true" severity="info" />
<p-drawer [(visible)]="visible" [header]="'page.ai-options.header' | translate" position="right" [style]="{ width: '30rem'}">
  <p-accordion value="1">
    <!--TASK OPTIONS-->
    <p-accordion-panel value="0">
      <p-accordion-header>{{ 'page.ai-options.task.header' | translate }}</p-accordion-header>
      <p-accordion-content>

        <fieldset class="border-none">
          <legend class="font-bold mb-2">{{ 'page.ai-options.task.legend' | translate }}</legend>
          <div class="flex flex-column gap-2">
            <ng-container *ngFor="let option of taskOptions; trackBy: trackById">
              <div class="p-field-radiobutton">
                <p-radioButton name="taskOptions" [value]="option.id" [(ngModel)]="selectedTask" [inputId]="option.id"
                  [disabled]="option.disabled" />
                <label [for]="option.id" class="pl-2">{{ option.label | translate }}</label>
              </div>
            </ng-container>
          </div>
        </fieldset>

      </p-accordion-content>
    </p-accordion-panel>
    <!--PROMPT OPTIONS-->
    <p-accordion-panel value="1" *ngIf="!isPrototype">
      <p-accordion-header>{{ 'page.ai-options.prompt.header' | translate }}</p-accordion-header>
      <p-accordion-content>

        <fieldset class="border-none">
          <legend class="font-bold mb-2">{{ 'page.ai-options.prompt.legend' | translate }}</legend>
          <div class="flex flex-column gap-2">
            <ng-container *ngIf="!isTwoPrompts">
              <ng-container *ngFor="let option of promptOptions; trackBy: trackById">
                <div class="p-field-radiobutton">
                  <p-radioButton name="promptOptions" [value]="option.id" [(ngModel)]="selectedPrompt"
                    [inputId]="option.id" [disabled]="option.disabled" />
                  <label [for]="option.id" class="pl-2">{{ option.label | translate }}</label>
                </div>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="isTwoPrompts">
              <ng-container *ngFor="let option of promptOptions; trackBy: trackById">
                <div class="p-field-checkbox">
                  <p-checkbox [value]="option.id" [(ngModel)]="selectedPrompts" [inputId]="option.id"
                    [disabled]="option.disabled || isPromptCheckboxDisabled(option.id)" />
                  <label [for]="option.id" class="pl-2">{{ option.label | translate }}</label>
                </div>
              </ng-container>
            </ng-container>
          </div>
        </fieldset>

      </p-accordion-content>
    </p-accordion-panel>
    <!--AI OPTIONS-->
    <p-accordion-panel value="2" *ngIf="!isPrototype">
      <p-accordion-header>{{ 'page.ai-options.model.header' | translate }}</p-accordion-header>
      <p-accordion-content>

        <fieldset class="border-none">
          <legend class="font-bold mb-2">{{ 'page.ai-options.model.legend' | translate }}</legend>
          <div class="flex flex-column gap-2">
            <ng-container *ngIf="!isTwoAis">
              <ng-container *ngFor="let option of aiOptions; trackBy: trackById">
                <div class="p-field-radiobutton">
                  <p-radioButton name="aiOptions" [value]="option.id" [(ngModel)]="selectedAi" [inputId]="option.id"
                    [disabled]="option.disabled" />
                  <label [for]="option.id" class="pl-2">{{ option.label | translate }}</label>
                </div>
              </ng-container></ng-container>
            <ng-container *ngIf="isTwoAis">
              <ng-container *ngFor="let option of aiOptions; trackBy: trackById">
                <div class="p-field-checkbox">
                  <p-checkbox [value]="option.id" [(ngModel)]="selectedAis" [inputId]="option.id"
                    [disabled]="option.disabled || isAiCheckboxDisabled(option.id)" />
                  <label [for]="option.id" class="pl-2">{{ option.label | translate }}</label>
                </div>
              </ng-container></ng-container>
          </div>
        </fieldset>

      </p-accordion-content>
    </p-accordion-panel>
  </p-accordion>

  <p-button *ngIf="!isPrototype" [label]="'page.compare.button.genai' | translate" [icon]="isLoading ? 'pi pi-spinner pi-spin' : 'pi pi-comments'"
    severity="primary" (click)="sendToAI()" [disabled]="isLoading"></p-button>

  <!--FROM UPLOAD URL COMPONENT - REFACTOR COMPONENT FOR BOTH USE CASES-->
  <ng-container [ngSwitch]="uploadType" *ngIf="isPrototype">
    <ca-upload-url *ngSwitchCase="'url'" mode="prototype" [showSampleDataButton]="false"
      (modifiedData)="handleUpload($event)" />
    <ca-upload-paste *ngSwitchCase="'paste'" mode="prototype" [showSampleDataButton]="false"
      (modifiedData)="handleUpload($event)" />
    <ca-upload-word *ngSwitchCase="'word'" mode="prototype" [showSampleDataButton]="false"
      (modifiedData)="handleUpload($event)" />
  </ng-container>


</p-drawer>